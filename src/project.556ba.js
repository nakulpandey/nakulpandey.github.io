window.__require=function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return i(e[s][1][t]||t)},l,l.exports,t,e,n,o)}return n[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({GameController:[function(t,e,n){"use strict";cc._RF.push(e,"56fe5cMHKtOYpqxtGNZNaHq","GameController"),cc.Class({extends:cc.Component,properties:{lineFactoryNode:{default:null,type:cc.Node,serializable:!0},starsHandlerNode:{default:null,type:cc.Node,serializable:!0},soapNode:{default:null,type:cc.Node,serializable:!0},enablePhysicsDebugging:!1,level:1,retryNode:{default:null,type:cc.Node,serializable:!0},retries:3,stars:0},onBeginContact:function(t,e,n){"soap"==n.node._name?this.reloadGame():(n.node._name,n.node.destroy())},reloadGame:function(){var t=cc.sys.localStorage.getItem("currentLevel");t&&(this.level=t),cc.director.loadScene("level-"+this.level)},handleSoapOutside:function(){this.reloadGame()},onEndContact:function(t,e,n){},onPreSolve:function(t,e,n){},onPostSolve:function(t,e,n){},loadNextLevel:function(){this.level++,cc.sys.localStorage.setItem("currentLevel",this.level),cc.director.loadScene("level-"+this.level)},onLoad:function(){if(cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1e3),this.enablePhysicsDebugging&&(cc.director.getPhysicsManager().debugDrawFlags=1),this.soap=this.soapNode.getComponent("soap"),this.starsHandler=this.starsHandlerNode.getComponent("StarsHandler"),this.lineDrawn=!1,1==this.level)cc.sys.localStorage.removeItem("currentLevel");else{var t=cc.sys.localStorage.getItem("currentLevel");t&&(this.level=t)}},handleStarTaken:function(){this.stars++,this.starsHandler.starsAcquired()},start:function(){this.lineFactory=this.lineFactoryNode.getComponent("drawingFactory"),this.lineFactory.init(this)},lineAdded:function(){this.soap.startMovement(),this.lineDrawn=!0,this.node.emit("startPhysics",!0)}}),cc._RF.pop()},{}],HelloWorld:[function(t,e,n){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Nakul, World!"},onLoad:function(){this.label.string=this.text},update:function(t){}}),cc._RF.pop()},{}],Hint:[function(t,e,n){"use strict";cc._RF.push(e,"01004EZtm1Hx6WU686jWdZN","Hint"),cc.Class({extends:cc.Component,properties:{hintPoints:"",drawingNode:{default:null,type:cc.Node,serializable:!0}},start:function(){this.hints=JSON.parse(this.hintPoints),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchStart,this),this.ctx=cc.find("Canvas").getChildByName("drawingNode").getComponent(cc.Graphics),this.pencil=this.drawingNode.getComponent("drawingFactory")},onTouchStart:function(t){this.pencil.drawHintLine(this.hints)}}),cc._RF.pop()},{}],RetryButton:[function(t,e,n){"use strict";cc._RF.push(e,"cc761fv4CtLIKYY1rAkMUiM","RetryButton"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchStart,this),this.game=cc.find("Canvas").getChildByName("GameController").getComponent("GameController"),this.clicked=!1},onTouchStart:function(t){this.clicked||(this.clicked=!0,this.game.reloadGame())}}),cc._RF.pop()},{}],StarsHandler:[function(t,e,n){"use strict";cc._RF.push(e,"565a8yk5zFGPZ5iZHW4ao5l","StarsHandler"),cc.Class({extends:cc.Component,properties:{currentStars:0},onLoad:function(){},start:function(){this.noStar=this.node.getChildByName("noStar"),this.oneStar=this.node.getChildByName("oneStar"),this.twoStars=this.node.getChildByName("twoStars"),this.threeStars=this.node.getChildByName("attStars"),this.noStar.active=!0,this.oneStar.active=!1,this.twoStars.active=!1,this.threeStars.active=!1},starsAcquired:function(){this.currentStars++,this.noStar.active=!1,this.oneStar.active=!1,this.twoStars.active=!1,this.threeStars.active=!1,0==this.currentStars?this.noStar.active=!0:1==this.currentStars?this.oneStar.active=!0:2==this.currentStars?this.twoStars.active=!0:3==this.currentStars&&(this.threeStars.active=!0)}}),cc._RF.pop()},{}],Star:[function(t,e,n){"use strict";cc._RF.push(e,"15134b9sbFFn6aKJ3f+yfw+","Star"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,e,n){"soap"==n.node._name&&(this.game.handleStarTaken(),this.node.destroy())},onEndContact:function(t,e,n){},onPreSolve:function(t,e,n){},onPostSolve:function(t,e,n){},start:function(){this.game=cc.find("Canvas").getChildByName("GameController").getComponent("GameController")}}),cc._RF.pop()},{}],drawingFactory:[function(t,e,n){"use strict";cc._RF.push(e,"ebc77GvwzJOW71WZo1hpNsP","drawingFactory"),cc.Class({extends:cc.Component,properties:{linePrefab:{default:null,type:cc.Prefab,serializable:!0}},init:function(t){this.game=t},onLoad:function(){var t=cc.find("Canvas");t.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},onTouchStart:function(t){this.lastTouchPoint=this.touchPoint=cc.v2(t.touch.getLocation()),this.points=[],this.points.push(this.touchPoint),this.ctx.moveTo(this.touchPoint.x,this.touchPoint.y),this.ctx.clear()},drawHintLine:function(t){for(var e=1;e<t.length-1;e++){var n=t[e-1],o=t[e];this.ctx.moveTo(n.x,n.y),this.ctx.circle(o.x,o.y,4),this.ctx.stroke()}this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.9),cc.callFunc(function(){this.ctx.clear()},this)))},onTouchMove:function(t){this.touchPoint=cc.v2(t.touch.getLocation()),this.lastTouchPoint=this.touchPoint;var e=this.touchPoint,n=e.x-this.points[this.points.length-1].x,o=e.y-this.points[this.points.length-1].y,i=Math.sqrt(n*n+o*o);this.ctx.moveTo(e.x,e.y),this.ctx.circle(e.x,e.y,2),this.ctx.stroke(),i>15&&this.points.push(e)},onTouchEnd:function(t){this.ctx.moveTo(this.touchPoint.x,this.touchPoint.y),this.ctx.clear(),this.addLine(),console.log(JSON.stringify(this.points))},addLine:function(){var t=cc.instantiate(this.linePrefab);cc.find("Canvas").addChild(t),t.getComponent("line").setPoints(this.points),t.setPosition(this.node.getPosition()),this.game.lineAdded()},start:function(){this.ctx=this.getComponent(cc.Graphics)}}),cc._RF.pop()},{}],line:[function(t,e,n){"use strict";cc._RF.push(e,"ab087SQdOZDyaoF+M4cLF1F","line"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.points=[]},start:function(){this.ctx=this.getComponent(cc.Graphics)},setPoints:function(t){this.addComponent(cc.RigidBody),this.getComponent(cc.RigidBody).bullet=!0,this.points=t;for(var e=0;e<this.points.length;e++){var n=this.addComponent(cc.PhysicsBoxCollider);n.density=100,n.offset.x=this.points[e].x,n.offset.y=this.points[e].y,n.friction=.1,n.size.width=10,n.size.height=10,n.apply()}},update:function(t){this.ctx.clear();for(var e=1;e<this.points.length;e++){var n=this.getComponents(cc.PhysicsBoxCollider)[e-1]._offset,o=this.getComponents(cc.PhysicsBoxCollider)[e]._offset;this.ctx.moveTo(n.x,n.y),this.ctx.lineTo(o.x,o.y),this.ctx.stroke()}}}),cc._RF.pop()},{}],noclickZone:[function(t,e,n){"use strict";cc._RF.push(e,"91574vvxe9MCo12D4i5D4yx","noclickZone"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.label=this.node.getChildByName("label"),this.label.active=!1},onTouchStart:function(t){var e=this;return this.label.active||(this.label.active=!0,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.label.active=!1})))),!0},start:function(){}}),cc._RF.pop()},{}],soap:[function(t,e,n){"use strict";cc._RF.push(e,"cf50dM++J9O/pq7of9idjjC","soap"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,e,n){},onEndContact:function(t,e,n){n.node._name},onPreSolve:function(t,e,n){},onPostSolve:function(t,e,n){},start:function(){},startMovement:function(){this.getComponent(cc.RigidBody).awake||(this.getComponent(cc.RigidBody).awake=!0)}}),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,n){"use strict";cc._RF.push(e,"86802LZ0fVM7L9LWvNhOkI/","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],virus:[function(t,e,n){"use strict";cc._RF.push(e,"6ed4fN8aftNqp19Dme+MIBz","virus"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(t,e,n){"soap"!=n.node._name||this.hitBySun||(this.game.loadNextLevel(),this.hitBySun=!0)},onEndContact:function(t,e,n){},onPreSolve:function(t,e,n){},onPostSolve:function(t,e,n){},start:function(){this.hitBySun=!1,this.game=cc.find("Canvas").getChildByName("GameController").getComponent("GameController")}}),cc._RF.pop()},{}],wheel:[function(t,e,n){"use strict";cc._RF.push(e,"03881jcl1VAhpFhDWuBBjm+","wheel"),cc.Class({extends:cc.Component,properties:{},start:function(){var t=this;this.game=cc.find("Canvas").getChildByName("GameController").getComponent("GameController"),this.getComponent(cc.RigidBody).awake=!1,this.game.node.on("startPhysics",function(){t.getComponent(cc.RigidBody).awake||(t.getComponent(cc.RigidBody).awake=!0)})},onBeginContact:function(t,e,n){},onEndContact:function(t,e,n){n.node._name},onPreSolve:function(t,e,n){},onPostSolve:function(t,e,n){},onLoad:function(){this.getComponent(cc.RigidBody).awake=!1},startMovement:function(){}}),cc._RF.pop()},{}],wrapHandler:[function(t,e,n){"use strict";cc._RF.push(e,"73f2epDh3JGULVE11pPO1fV","wrapHandler"),cc.Class({extends:cc.Component,properties:{to:{default:null,type:cc.Node,serializable:!0}},onBeginContact:function(t,e,n){this.to&&"soap"==n.node._name&&!this.firedOnce&&this.to&&(n.node.destroy(),this.game.handleWarp(this.to.getPosition()),this.firedOnce=!0)},onEndContact:function(t,e,n){},onPreSolve:function(t,e,n){},onPostSolve:function(t,e,n){},start:function(){this.firedOnce=!1,this.game=cc.find("Canvas").getChildByName("GameController").getComponent("wrap"),this.getComponent(cc.Animation).play()}}),cc._RF.pop()},{}],wrap:[function(t,e,n){"use strict";cc._RF.push(e,"ec92dnOVpxHe6n1iEVhoOFL","wrap"),cc.Class({extends:cc.Component,properties:{first:{default:null,type:cc.Node,serializable:!0},second:{default:null,type:cc.Node,serializable:!0},item:{default:null,type:cc.Prefab,serializable:!0},time:2},handleWarp:function(t){this.node.runAction(cc.sequence(cc.delayTime(this.time),cc.callFunc(function(){var e=cc.instantiate(this.item);this.node.parent.addChild(e),e.getComponent(cc.RigidBody).awake=!0,e.getComponent(cc.RigidBody).applyLinearImpulse({x:800,y:0},e.getComponent(cc.RigidBody).getWorldCenter()),e.setPosition(t)},this)))},start:function(){this.game=this.getComponent("GameController")}}),cc._RF.pop()},{}]},{},["GameController","HelloWorld","Hint","RetryButton","Star","StarsHandler","drawingFactory","line","noclickZone","soap","virus","wheel","wrap","wrapHandler","use_v2.1-2.2.1_cc.Toggle_event"]);